(this["webpackJsonpreact-kakao-map-test"]=this["webpackJsonpreact-kakao-map-test"]||[]).push([[0],{142:function(e,n,t){},238:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(30),o=t.n(c),i=(t(141),t(142),t(27)),s=t(28),u=t(25),d=t(98),l="map/SET_MAP",f={map:null};var b,j,p,m,h=t(7),x=s.a.div(b||(b=Object(i.a)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n"]))),O=function(e){var n=e.children,t=Object(u.b)(),r=Object(a.useRef)();return Object(a.useEffect)((function(){console.log("map init!");var e={center:new kakao.maps.LatLng("37.50802","127.062835"),level:3},n=new kakao.maps.Map(r.current,e);t(function(e){return{type:l,map:e}}(n))}),[t]),Object(h.jsx)(x,{ref:r,children:n})},g=t(45),k=function(){return"geolocation"in navigator?new Promise((function(e,n){navigator.geolocation.getCurrentPosition(e,n)})):null},v=function(e,n,t){var a=new kakao.maps.LatLng(n,t);e.setCenter(a)},y=null,w=function(e,n,t){var a=new kakao.maps.LatLng(n,t);y?y.setPosition(a):(y=new kakao.maps.Marker({position:a})).setMap(e)},S=function(e,n){e.setLevel(n)},C=function(e,n){return e.getLevel()},z=s.a.div(j||(j=Object(i.a)(["\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n    width: 36px;\n    height: 72px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),_=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(z,{children:[Object(h.jsx)("span",{onClick:function(){return S(e,C(e)-1)},children:Object(h.jsx)(g.e,{})}),Object(h.jsx)("span",{onClick:function(){return S(e,C(e)+1)},children:Object(h.jsx)(g.d,{})})]})})},L=t(23),M=t(242),T=s.a.div(p||(p=Object(i.a)(["\n    display: flex;\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 130px;\n    height: 30px;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    @media screen and (max-width: 768px) {\n        top: 10rem;\n    }\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 65px;\n        height: 30px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        background: #40a9ff;\n\n        //&:hover {\n        //    color: #fff;\n        //}\n    }\n"]))),A=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)("selected_btn"),t=Object(L.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)("btn"),i=Object(L.a)(o,2),s=i[0],d=i[1],l=function(n){!function(e,n){"roadmap"===n?e.setMapTypeId(kakao.maps.MapTypeId.ROADMAP):e.setMapTypeId(kakao.maps.MapTypeId.HYBRID)}(e,n),"roadmap"===n?(c("selected_btn"),d("btn")):(c("btn"),d("selected_btn"))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(T,{children:[Object(h.jsx)("span",{className:r,onClick:function(){return l("roadmap")},children:Object(h.jsx)(M.a,{})}),Object(h.jsx)("span",{className:s,onClick:function(){return l("skyview")},children:Object(h.jsx)(M.b,{})})]})})},I=t(97),B=t(247),E=t(248),F=t(243),R=r.a.memo(s.a.div(m||(m=Object(i.a)(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    height: auto;\n    overflow: hidden;\n"])))),D={width:"1.2rem",height:"1.2rem"},P=function(e){var n=e.type,t=e.data,r=e.onClickClose,c=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,o=Object(a.useState)([]),i=Object(L.a)(o,2),s=i[0],d=i[1],l=function(e,n){var t=s.findIndex((function(e){return e.value===n.value}));-1===t?(n.isbookmark="true",d([].concat(Object(I.a)(s),[n]))):(n.isbookmark="false",s.splice(t,1),d(Object(I.a)(s)))};return Object(h.jsxs)(R,{children:[Object(h.jsx)(B.a,{type:"inner",size:"small",title:"result"===n?"\uac80\uc0c9\uacb0\uacfc":"\ubd81\ub9c8\ud06c",bodyStyle:{display:"none"},extra:Object(h.jsx)(g.a,{style:{fontSize:"1.5rem"},onClick:r})}),Object(h.jsx)(B.a,{size:"small",style:{flex:1,height:"100%",overflow:"auto"},children:Object(h.jsx)(E.b,{itemLayout:"horizontal",dataSource:"result"===n?t:s,locale:{emptyText:Object(h.jsx)("div",{children:"No data"})},renderItem:function(e){return Object(h.jsxs)(E.b.Item,{children:[Object(h.jsx)(E.b.Item.Meta,{title:e.data.place_name,description:e.data.road_address_name,onClick:function(){return n=e.data.y,t=e.data.x,v(c,n,t),void w(c,n,t);var n,t},style:{cursor:"pointer"}}),"true"===e.isbookmark?Object(h.jsx)(F.b,{onClick:function(n){return l(0,e)},style:D}):Object(h.jsx)(F.a,{onClick:function(n){return l(0,e)},style:D})]})}})})]})},K=r.a.memo(P),q=t(130),N=t.n(q).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK 6797801199c3b3d73ff33c7ca3edea88"}}),G=function(e){return N.get("/v2/local/search/keyword.json?query=".concat(e))},H=t(250);var J=function(e){var n=e.onClickRadioButton,t=e.type,r=Object(a.useState)(!1),c=Object(L.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)(""),u=Object(L.a)(s,2),d=u[0],l=u[1];return Object(a.useEffect)((function(){i("result"===t),l(t)}),[t]),Object(h.jsxs)(H.a.Group,{size:"large",value:d,onChange:n,style:{display:"flex"},id:"radioGroup",children:[Object(h.jsxs)(H.a.Button,{value:"result",style:{width:"100%",textAlign:"center"},id:"radioButtonResult",checked:o,children:[Object(h.jsx)(F.c,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\uac80\uc0c9\uacb0\uacfc"]}),Object(h.jsxs)(H.a.Button,{value:"bookmark",style:{width:"100%",textAlign:"center"},id:"radioButtonBookmark",checked:!o,children:[Object(h.jsx)(F.a,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\ubd81\ub9c8\ud06c"]})]})},W=t(244),U=t(249),Y=function(){return Object(h.jsx)(g.c,{style:{width:"1.2rem",height:"1.2rem",animationName:"rotate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})};var Q,V,X,Z=function(e){var n=e.query,t=e.options,r=e.onChange,c=e.onSelect,o=e.onKeyDown,i=e.onReset,s=Object(a.useState)(Object(h.jsx)(g.f,{})),u=Object(L.a)(s,2),d=u[0],l=u[1],f=function(){i(),l(Object(h.jsx)(g.f,{}))};return Object(a.useMemo)((function(){l(t.length>0?Object(h.jsx)(g.b,{onClick:f}):Object(h.jsx)(g.f,{}))}),[t]),Object(h.jsx)(B.a,{size:"small",title:"REACT-KAKAO-MAP-TEST",bordered:!1,headStyle:{backgroundColor:"#40a9ff",color:"#fff"},bodyStyle:{backgroundColor:"#40a9ff",color:"#fff"},children:Object(h.jsx)(W.a,{value:n,options:t,onChange:function(e){l(Object(h.jsx)(Y,{})),r(e)},onSelect:function(e,n){c(e,n),l(Object(h.jsx)(g.b,{onClick:f}))},style:{width:"100%"},children:Object(h.jsx)(U.a,{suffix:d,size:"large",onKeyDown:o})})})},$=t(59),ee=t(38),ne=r.a.memo(s.a.div(Q||(Q=Object(i.a)(["\n    svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    @keyframes rotate {\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"])))),te=function(e,n){return n.map((function(n){return{query:e,key:"".concat(n.id),value:"".concat(n.id),text:"".concat(n.place_name),data:n,isbookmark:"false",label:Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[n.place_name," ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{fontSize:"0.5rem"},children:n.road_address_name})]})})}}))},ae=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)([]),t=Object(L.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)([]),i=Object(L.a)(o,2),s=i[0],d=i[1],l=Object(a.useState)(""),f=Object(L.a)(l,2),b=f[0],j=f[1],p=Object(a.useState)(!1),m=Object(L.a)(p,2),x=m[0],O=m[1],g=Object(a.useState)("result"),k=Object(L.a)(g,2),y=k[0],S=k[1];Object(a.useEffect)((function(){var e=setTimeout((function(){C(b)}),300);return function(){return clearTimeout(e)}}),[b]);var C=function(e){e?G(e).then((function(n){var t=n.data.documents,a=t.length>0;c(a?te(e,t):[])})).catch((function(e){throw new Error("\ud0a4\uc6cc\ub4dc \uac80\uc0c9 \uc5d0\ub7ec!")})):z()},z=function(){j(""),c([])};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)($.a,{style:{flex:"0 1 0%",height:"100%"},children:Object(h.jsxs)(ee.a,{xs:24,md:12,lg:8,xl:6,style:{flex:1,height:"100%",display:"flex",flexDirection:"column"},children:[Object(h.jsxs)(ne,{children:[Object(h.jsx)(Z,{query:b,options:r,onChange:function(e){return j(e)},onKeyDown:function(e){var n,t;13===e.keyCode&&(O(!0),S("result"),(null===(n=r[0])||void 0===n?void 0:n.query)||(null===(t=r[0])||void 0===t?void 0:t.query)!==b?G(b).then((function(e){var n=e.data.documents;return d(te(b,n))})):d(r))},onSelect:function(n,t){var a=t.text,c=t.data;j(a),O(!0),b===a?d(r):G(a).then((function(e){var n=e.data.documents;return d(te(a,n))})),v(e,c.y,c.x),w(e,c.y,c.x)},onReset:z}),Object(h.jsx)(J,{type:y,onClickRadioButton:function(e){S(e.target.value),O(!0)}})]}),x&&Object(h.jsx)(K,{type:y,data:s,onClickClose:function(){return O(!1)}})]})})})},re=r.a.memo(ae),ce=t(95),oe=t.n(ce),ie=t(131),se=t(245),ue=s.a.div(V||(V=Object(i.a)(["\n    position: absolute;\n    bottom: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),de=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=function(){var n=Object(ie.a)(oe.a.mark((function n(){var t,a;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k({enableHighAccuracy:!0});case 3:t=n.sent,a=t.coords,v(e,a.latitude,a.longitude),S(e,3),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),new Error("set position error!");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ue,{children:Object(h.jsx)("span",{onClick:n,children:Object(h.jsx)(se.a,{})})})})},le=t(246),fe=[],be=[],je=function(e,n){var t=new kakao.maps.Marker({map:n,position:new kakao.maps.LatLng(e.y,e.x)});fe.push(t);var a=new kakao.maps.InfoWindow({zIndex:1});a.setContent(e.place_name),be.push(a),kakao.maps.event.addListener(t,"mouseover",pe(n,t,a)),kakao.maps.event.addListener(t,"mouseout",me(a))},pe=function(e,n,t){return function(){t.open(e,n)}},me=function(e){return function(){e.close()}},he=function(e){for(var n=0;n<fe.length;n++)fe[n].setMap(e)},xe=function(e,n,t){e&&kakao.maps.event.addListener(e,n,t)},Oe=function(e,n,t){e&&kakao.maps.event.removeListener(e,n,t)},ge=s.a.div(X||(X=Object(i.a)(["\n    position: absolute;\n    top: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    @media screen and (max-width: 768px) {\n        top: 16rem;\n    }\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        background: #b197fc;\n\n        //&:hover {\n        //    color: #fff;\n        //}\n    }\n"]))),ke=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)(!1),t=Object(L.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)("btn"),i=Object(L.a)(o,2),s=i[0],d=i[1],l=function(){var n,t;n=e,t="CE7",he(null),fe=[],be=[],new kakao.maps.services.Places(n).categorySearch(t,(function(e,t){if(t===kakao.maps.services.Status.OK)for(var a=0;a<e.length;a++)je(e[a],n)}),{useMapBounds:!0,size:15,page:1})};return Object(a.useEffect)((function(){if(e)return r?(d("selected_btn"),l(),xe(e,"dragend",l),xe(e,"zoom_changed",l),xe(e,"center_changed",l)):d("btn"),function(){he(null),Oe(e,"dragend",l),Oe(e,"zoom_changed",l),Oe(e,"center_changed",l)}}),[r]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ge,{children:Object(h.jsx)("span",{className:s,onClick:function(){c(!r)},children:Object(h.jsx)(le.a,{})})})})};var ve=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O,{children:[Object(h.jsx)(ke,{}),Object(h.jsx)(de,{}),Object(h.jsx)(A,{}),Object(h.jsx)(_,{})]}),Object(h.jsx)(re,{})]})},ye=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,251)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))},we=t(63),Se=Object(we.combineReducers)({mapSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;return n.type===l?Object(d.a)(Object(d.a)({},e),{},{map:n.map}):e}}),Ce=Se,ze=t(132),_e=Object(we.createStore)(Ce,Object(ze.composeWithDevTools)());o.a.render(Object(h.jsx)(u.a,{store:_e,children:Object(h.jsx)(ve,{})}),document.getElementById("root")),ye()}},[[238,1,2]]]);
//# sourceMappingURL=main.25a9090d.chunk.js.map