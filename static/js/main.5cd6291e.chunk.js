(this["webpackJsonpreact-kakao-map-test"]=this["webpackJsonpreact-kakao-map-test"]||[]).push([[0],{142:function(n,e,t){},238:function(n,e,t){"use strict";t.r(e);var a=t(1),o=t.n(a),r=t(30),c=t.n(r),i=(t(100),t(142),t(27)),s=t(28),l=t(25),d=t(98),u="map/SET_MAP",p={map:null};var f,b,j,m=t(7),x=s.a.div(f||(f=Object(i.a)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n"]))),h=function(n){var e=n.children,t=Object(l.b)(),o=Object(a.useRef)();return Object(a.useEffect)((function(){console.log("map init!");var n={center:new kakao.maps.LatLng("37.50802","127.062835"),level:3},e=new kakao.maps.Map(o.current,n);t(function(n){return{type:u,map:n}}(e))}),[t]),Object(m.jsx)(x,{ref:o,children:e})},g=t(45),O=function(){return"geolocation"in navigator?new Promise((function(n,e){navigator.geolocation.getCurrentPosition(n,e)})):null},v=function(n,e,t){var a=new kakao.maps.LatLng(e,t);n.setCenter(a)},k=function(n,e){n.setLevel(e)},y=function(n,e){return n.getLevel()},w=s.a.div(b||(b=Object(i.a)(["\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n    width: 36px;\n    height: 72px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),C=function(){var n=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(w,{children:[Object(m.jsx)("span",{onClick:function(){return k(n,y(n)-1)},children:Object(m.jsx)(g.e,{})}),Object(m.jsx)("span",{onClick:function(){return k(n,y(n)+1)},children:Object(m.jsx)(g.d,{})})]})})},S=t(23),_=t(242),z=s.a.div(j||(j=Object(i.a)(["\n  display: flex;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  width: 130px;\n  height: 30px;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  z-index: 10;\n\n  border: 1px solid #919191;\n  border-radius: 5px;\n\n  @media screen and (max-width: 768px) {\n    top: 10rem;\n  }\n\n  span {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 65px;\n    height: 30px;\n    cursor: pointer;\n\n    svg {\n      flex: 1;\n      font-size: 22px;\n    }\n  }\n\n  .btn {\n    background: #fff;\n    background: linear-gradient(#fff, #e6e6e6);\n\n    &:hover {\n      background: #f5f5f5;\n      background: linear-gradient(#f5f5f5, #e3e3e3);\n    }\n\n    &:active {\n      background: #e6e6e6;\n      background: linear-gradient(#e6e6e6, #fff);\n    }\n  }\n\n  .selected_btn {\n    background: #40a9ff;\n\n    //&:hover {\n    //    color: #fff;\n    //}\n  }\n"]))),L=function(){var n=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)("selected_btn"),t=Object(S.a)(e,2),o=t[0],r=t[1],c=Object(a.useState)("btn"),i=Object(S.a)(c,2),s=i[0],d=i[1],u=function(e){!function(n,e){"roadmap"===e?n.setMapTypeId(kakao.maps.MapTypeId.ROADMAP):n.setMapTypeId(kakao.maps.MapTypeId.HYBRID)}(n,e),"roadmap"===e?(r("selected_btn"),d("btn")):(r("btn"),d("selected_btn"))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(z,{children:[Object(m.jsx)("span",{className:o,onClick:function(){return u("roadmap")},children:Object(m.jsx)(_.a,{})}),Object(m.jsx)("span",{className:s,onClick:function(){return u("skyview")},children:Object(m.jsx)(_.b,{})})]})})},M=t(66),A=t(247),I=t(248),R=t(243),T=[],B=(new kakao.maps.InfoWindow({zIndex:1,removable:!0}),new kakao.maps.CustomOverlay({zIndex:3,yAnchor:1})),P=function(n,e){var t=new kakao.maps.Marker({map:n,position:new kakao.maps.LatLng(e.y,e.x),clickable:!0});T.push(t),J(t,"click",(function(){B.setMap(n),B.setContent(K(e)),B.setPosition(t.getPosition()),document.querySelector(".ant-popover-title").appendChild(q())}))},E=function(n){for(var e=0;e<T.length;e++)T[e].setMap(n)},F=null,D=function(n,e){F?F.setPosition(new kakao.maps.LatLng(e.y,e.x)):F=H(n,e),J(F,"click",(function(){B.setMap(n),B.setContent(K(e)),B.setPosition(F.getPosition()),document.querySelector(".ant-popover-title").appendChild(q())}))},q=function(){var n=document.createElement("span");return n.className="close",n.style.position="absolute",n.style.top="8px",n.style.right="8px",n.style.background="#000",n.style.color="#fff",n.style.textAlign="center",n.style.width="15px",n.style.fontSize="x-small",n.style.cursor="default",n.textContent="X",n.onclick=G,n.title="\ub2eb\uae30",n};function K(n){return'\n      <div class="ant-popover ant-popover-placement-top" style="position: relative; top: -35px; max-width: 270px;" >\n        <div class="ant-popover-content">\n          <div class="ant-popover-arrow">\n            <span class="ant-popover-arrow-content"></span>\n          </div>\n          <div class="ant-popover-inner" role="tooltip">\n            <div class="ant-popover-title">\n              <span style="display: inline-block;width: 94%;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" title="'.concat(n.place_name,'">\n                ').concat(n.place_name,'\n              </span> \n            </div>\n            <div class="ant-popover-inner-content" style="font-size: x-small">\n              <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">\n                <span title="').concat(n.address_name,'">').concat(n.address_name,'</span> <br />\n                <span title="').concat(n.road_address_name,'">').concat(n.road_address_name,"</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}var N,G=function(){return B.setMap(null)},H=function(n,e){return new kakao.maps.Marker({map:n,position:new kakao.maps.LatLng(e.y,e.x)})},J=function(n,e,t){n&&kakao.maps.event.addListener(n,e,t)},W=function(n,e,t){n&&kakao.maps.event.removeListener(n,e,t)},U=o.a.memo(s.a.div(N||(N=Object(i.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: auto;\n  overflow: hidden;\n  margin-top: 3px;\n  border-radius: 5px;\n\n  & .ant-card-head-wrapper {\n    height: 38px;\n  }\n\n  & .ant-card-extra {\n    padding: 0;\n    display: flex;\n  }\n"])))),X={width:"1.2rem",height:"1.2rem"},Y=function(n){var e=n.type,t=n.data,a=n.bookmarks,o=n.onClickBookmark,r=n.onClickClose,c=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map;return Object(m.jsxs)(U,{children:[Object(m.jsx)(A.a,{type:"inner",size:"small",title:"result"===e?" ".concat(t.length||0," \uac1c\uc758 \uac80\uc0c9\uacb0\uacfc"):"".concat(a.length||0," \uac1c\uc758 \ubd81\ub9c8\ud06c  "),bodyStyle:{display:"none"},extra:Object(m.jsx)(g.a,{style:{fontSize:"1.5rem"},onClick:r})}),Object(m.jsx)(A.a,{size:"small",style:{flex:1,height:"100%",overflow:"auto"},children:Object(m.jsx)(I.b,{itemLayout:"horizontal",dataSource:"result"===e?t:a,locale:{emptyText:Object(m.jsx)("div",{children:"No data"})},renderItem:function(n){return Object(m.jsxs)(I.b.Item,{children:[Object(m.jsx)(I.b.Item.Meta,{title:n.data.place_name,description:n.data.road_address_name,onClick:function(){return function(n){v(c,n.y,n.x),D(c,n)}(n.data)},style:{cursor:"pointer"}}),"true"===n.isbookmark?Object(m.jsx)(R.b,{onClick:function(e){return o(e,n)},style:X}):Object(m.jsx)(R.a,{onClick:function(e){return o(e,n)},style:X})]})}})})]})},Q=o.a.memo(Y),V=t(131),Z=t.n(V).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK 6797801199c3b3d73ff33c7ca3edea88"}}),$=function(n){return Z.get("/v2/local/search/keyword.json?query=".concat(n))},nn=t(250);var en=function(n){var e=n.onClickRadioButton,t=n.type,o=Object(a.useState)(!1),r=Object(S.a)(o,2),c=r[0],i=r[1],s=Object(a.useState)(""),l=Object(S.a)(s,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){i("result"===t),u(t)}),[t]),Object(m.jsxs)(nn.a.Group,{size:"large",value:d,onChange:e,style:{display:"flex"},id:"radioGroup",children:[Object(m.jsxs)(nn.a.Button,{value:"result",style:{width:"100%",textAlign:"center",borderRadius:"0 0 0 5px"},id:"radioButtonResult",checked:c,children:[Object(m.jsx)(R.c,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\uac80\uc0c9\uacb0\uacfc"]}),Object(m.jsxs)(nn.a.Button,{value:"bookmark",style:{width:"100%",textAlign:"center",borderRadius:"0 0 5px 0"},id:"radioButtonBookmark",checked:!c,children:[Object(m.jsx)(R.a,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\ubd81\ub9c8\ud06c"]})]})},tn=t(244),an=t(249),on=function(){return Object(m.jsx)(g.c,{style:{width:"1.2rem",height:"1.2rem",animationName:"rotate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})};var rn,cn,sn,ln=function(n){var e=n.query,t=n.options,o=n.onChange,r=n.onSelect,c=n.onKeyDown,i=n.onReset,s=Object(a.useState)(Object(m.jsx)(g.f,{})),l=Object(S.a)(s,2),d=l[0],u=l[1],p=function(){i(),u(Object(m.jsx)(g.f,{}))};return Object(a.useMemo)((function(){u(t.length>0?Object(m.jsx)(g.b,{onClick:p}):Object(m.jsx)(g.f,{}))}),[t]),Object(m.jsx)(A.a,{size:"small",title:"REACT-KAKAO-MAP-TEST",bordered:!1,headStyle:{backgroundColor:"rgb(64 169 255)",color:"#fff",borderRadius:"5px 5px 0 0"},style:{borderRadius:"5px 5px 0 0"},children:Object(m.jsx)(tn.a,{value:e,options:t,onChange:function(n){u(Object(m.jsx)(on,{})),o(n)},onSelect:function(n,e){r(n,e),u(Object(m.jsx)(g.b,{onClick:p}))},style:{width:"100%"},children:Object(m.jsx)(an.a,{suffix:d,size:"large",onKeyDown:c})})})},dn=t(59),un=t(38),pn=o.a.memo(s.a.div(rn||(rn=Object(i.a)(["\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])))),fn=function(n,e){return e.map((function(e){return{query:n,key:"".concat(e.id),value:"".concat(e.id),text:"".concat(e.place_name),data:e,isbookmark:"false",label:Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[e.place_name," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{fontSize:"0.5rem"},children:e.road_address_name})]})})}}))},bn=function(){var n=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)([]),t=Object(S.a)(e,2),o=t[0],r=t[1],c=Object(a.useState)([]),i=Object(S.a)(c,2),s=i[0],d=i[1],u=Object(a.useState)(""),p=Object(S.a)(u,2),f=p[0],b=p[1],j=Object(a.useState)(!1),x=Object(S.a)(j,2),h=x[0],g=x[1],O=Object(a.useState)("result"),k=Object(S.a)(O,2),y=k[0],w=k[1],C=Object(a.useState)([]),_=Object(S.a)(C,2),z=_[0],L=_[1];Object(a.useEffect)((function(){var n=setTimeout((function(){A(f)}),300);return function(){return clearTimeout(n)}}),[f]);var A=function(n){n?$(n).then((function(e){var t=e.data.documents,a=t.length>0;r(a?fn(n,t):[])})).catch((function(n){throw new Error("\ud0a4\uc6cc\ub4dc \uac80\uc0c9 \uc5d0\ub7ec!")})):I()},I=function(){b(""),r([])};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(dn.a,{style:{flex:"0 1 0%",height:"100%",padding:"10px"},children:Object(m.jsxs)(un.a,{xs:24,md:12,lg:8,xl:6,style:{flex:1,height:"100%",display:"flex",flexDirection:"column"},children:[Object(m.jsxs)(pn,{children:[Object(m.jsx)(ln,{query:f,options:o,onChange:function(n){return b(n)},onKeyDown:function(n){var e,t;13===n.keyCode&&(g(!0),w("result"),(null===(e=o[0])||void 0===e?void 0:e.query)||(null===(t=o[0])||void 0===t?void 0:t.query)!==f?$(f).then((function(n){var e=n.data.documents;return d(fn(f,e))})):d(o))},onSelect:function(e,t){var a=t.text,r=t.data;b(a),g(!0),f===a?d(o):$(a).then((function(n){var e=n.data.documents;return d(fn(a,e))})),v(n,r.y,r.x),D(n,r)},onReset:I}),Object(m.jsx)(en,{type:y,onClickRadioButton:function(n){w(n.target.value),g(!0)}})]}),h&&Object(m.jsx)(Q,{type:y,data:s,bookmarks:z,onClickClose:function(){return g(!1)},onClickBookmark:function(n,e){var t=z.findIndex((function(n){return n.value===e.value}));-1===t?(e.isbookmark="true",L([].concat(Object(M.a)(z),[e]))):(e.isbookmark="false",z.splice(t,1),L(Object(M.a)(z)))}})]})})})},jn=o.a.memo(bn),mn=t(96),xn=t.n(mn),hn=t(132),gn=t(245),On=s.a.div(cn||(cn=Object(i.a)(["\n    position: absolute;\n    bottom: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),vn=function(){var n=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map,e=function(){var e=Object(hn.a)(xn.a.mark((function e(){var t,a;return xn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({enableHighAccuracy:!0});case 3:t=e.sent,a=t.coords,v(n,a.latitude,a.longitude),k(n,3),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("set position error!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(On,{children:Object(m.jsx)("span",{onClick:e,children:Object(m.jsx)(gn.a,{})})})})},kn=t(246),yn=s.a.div(sn||(sn=Object(i.a)(["\n  position: absolute;\n  top: 7rem;\n  right: 1rem;\n  width: 36px;\n  height: 36px;\n  overflow: hidden;\n  background-color: #f5f5f5;\n  z-index: 10;\n\n  border: 1px solid #919191;\n  border-radius: 5px;\n\n  @media screen and (max-width: 768px) {\n    top: 16rem;\n  }\n\n  span {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    cursor: pointer;\n\n    svg {\n      flex: 1;\n      font-size: 22px;\n    }\n\n    &:first-child {\n      border-bottom: 1px solid #bfbfbf;\n    }\n  }\n\n  .btn {\n    background: #fff;\n    background: linear-gradient(#fff, #e6e6e6);\n\n    &:hover {\n      background: #f5f5f5;\n      background: linear-gradient(#f5f5f5, #e3e3e3);\n    }\n\n    &:active {\n      background: #e6e6e6;\n      background: linear-gradient(#e6e6e6, #fff);\n    }\n  }\n\n  .selected_btn {\n    background: #b197fc;\n\n    //&:hover {\n    //    color: #fff;\n    //}\n  }\n"]))),wn=function(){var n=Object(l.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)(!1),t=Object(S.a)(e,2),o=t[0],r=t[1],c=Object(a.useState)("btn"),i=Object(S.a)(c,2),s=i[0],d=i[1],u=function(){!function(n,e){E(null),T=[];var t=[];new kakao.maps.services.Places(n).categorySearch(e,(function(e,a,o){if(a===kakao.maps.services.Status.OK){t=Object(M.a)(e);for(var r=0;r<t.length;r++)P(n,t[r])}}),{useMapBounds:!0,size:15,page:1})}(n,"CE7")};return Object(a.useEffect)((function(){if(n)return o?(d("selected_btn"),u(),J(n,"dragend",u),J(n,"zoom_changed",u),J(n,"center_changed",u)):d("btn"),function(){E(null),W(n,"dragend",u),W(n,"zoom_changed",u),W(n,"center_changed",u)}}),[o]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(yn,{children:Object(m.jsx)("span",{className:s,onClick:function(){r(!o)},children:Object(m.jsx)(kn.a,{})})})})};var Cn=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(h,{children:[Object(m.jsx)(wn,{}),Object(m.jsx)(vn,{}),Object(m.jsx)(L,{}),Object(m.jsx)(C,{})]}),Object(m.jsx)(jn,{})]})},Sn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,251)).then((function(e){var t=e.getCLS,a=e.getFID,o=e.getFCP,r=e.getLCP,c=e.getTTFB;t(n),a(n),o(n),r(n),c(n)}))},_n=t(63),zn=Object(_n.combineReducers)({mapSetting:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;return e.type===u?Object(d.a)(Object(d.a)({},n),{},{map:e.map}):n}}),Ln=zn,Mn=t(133),An=Object(_n.createStore)(Ln,Object(Mn.composeWithDevTools)());c.a.render(Object(m.jsx)(l.a,{store:An,children:Object(m.jsx)(Cn,{})}),document.getElementById("root")),Sn()}},[[238,1,2]]]);
//# sourceMappingURL=main.5cd6291e.chunk.js.map