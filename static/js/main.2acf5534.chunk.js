(this["webpackJsonpreact-kakao-map-test"]=this["webpackJsonpreact-kakao-map-test"]||[]).push([[0],{142:function(e,n,t){},238:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(30),o=t.n(c),i=(t(141),t(142),t(27)),s=t(28),u=t(25),l=t(98),d="map/SET_MAP",f={map:null};var b,j,p,m,h=t(7),x=s.a.div(b||(b=Object(i.a)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n"]))),O=function(e){var n=e.children,t=Object(u.b)(),r=Object(a.useRef)();return Object(a.useEffect)((function(){console.log("map init!");var e={center:new kakao.maps.LatLng("37.50802","127.062835"),level:3},n=new kakao.maps.Map(r.current,e);t(function(e){return{type:d,map:e}}(n))}),[t]),Object(h.jsx)(x,{ref:r,children:n})},g=t(45),k=function(){return"geolocation"in navigator?new Promise((function(e,n){navigator.geolocation.getCurrentPosition(e,n)})):null},v=function(e,n,t){var a=new kakao.maps.LatLng(n,t);e.setCenter(a)},y=function(e,n){e.setLevel(n)},w=function(e,n){return e.getLevel()},C=s.a.div(j||(j=Object(i.a)(["\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n    width: 36px;\n    height: 72px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),S=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(C,{children:[Object(h.jsx)("span",{onClick:function(){return y(e,w(e)-1)},children:Object(h.jsx)(g.e,{})}),Object(h.jsx)("span",{onClick:function(){return y(e,w(e)+1)},children:Object(h.jsx)(g.d,{})})]})})},z=t(23),_=t(242),L=s.a.div(p||(p=Object(i.a)(["\n    display: flex;\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 130px;\n    height: 30px;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    @media screen and (max-width: 768px) {\n        top: 10rem;\n    }\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 65px;\n        height: 30px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        background: #40a9ff;\n\n        //&:hover {\n        //    color: #fff;\n        //}\n    }\n"]))),T=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)("selected_btn"),t=Object(z.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)("btn"),i=Object(z.a)(o,2),s=i[0],l=i[1],d=function(n){!function(e,n){"roadmap"===n?e.setMapTypeId(kakao.maps.MapTypeId.ROADMAP):e.setMapTypeId(kakao.maps.MapTypeId.HYBRID)}(e,n),"roadmap"===n?(c("selected_btn"),l("btn")):(c("btn"),l("selected_btn"))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(L,{children:[Object(h.jsx)("span",{className:r,onClick:function(){return d("roadmap")},children:Object(h.jsx)(_.a,{})}),Object(h.jsx)("span",{className:s,onClick:function(){return d("skyview")},children:Object(h.jsx)(_.b,{})})]})})},A=t(66),I=t(247),M=t(248),B=t(243),E=[],F=new kakao.maps.InfoWindow({zIndex:1,removable:!0}),R=(new kakao.maps.CustomOverlay({}),function(e,n){var t=new kakao.maps.Marker({map:e,position:new kakao.maps.LatLng(n.y,n.x),clickable:!0});E.push(t),N(t,"click",(function(){F.setContent(n.place_name),F.open(e,t)}))}),D=function(e){for(var n=0;n<E.length;n++)E[n].setMap(e)},P=null,K=function(e,n){P?P.setPosition(new kakao.maps.LatLng(n.y,n.x)):P=q(e,n),N(P,"click",(function(){F.setContent(n.place_name),F.open(e,P)}))},q=function(e,n){return new kakao.maps.Marker({map:e,position:new kakao.maps.LatLng(n.y,n.x)})},N=function(e,n,t){e&&kakao.maps.event.addListener(e,n,t)},G=function(e,n,t){e&&kakao.maps.event.removeListener(e,n,t)},H=r.a.memo(s.a.div(m||(m=Object(i.a)(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    height: auto;\n    overflow: hidden;\n"])))),J={width:"1.2rem",height:"1.2rem"},W=function(e){var n=e.type,t=e.data,a=e.bookmarks,r=e.onClickBookmark,c=e.onClickClose,o=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map;return Object(h.jsxs)(H,{children:[Object(h.jsx)(I.a,{type:"inner",size:"small",title:"result"===n?"\uac80\uc0c9\uacb0\uacfc":"\ubd81\ub9c8\ud06c",bodyStyle:{display:"none"},extra:Object(h.jsx)(g.a,{style:{fontSize:"1.5rem"},onClick:c})}),Object(h.jsx)(I.a,{size:"small",style:{flex:1,height:"100%",overflow:"auto"},children:Object(h.jsx)(M.b,{itemLayout:"horizontal",dataSource:"result"===n?t:a,locale:{emptyText:Object(h.jsx)("div",{children:"No data"})},renderItem:function(e){return Object(h.jsxs)(M.b.Item,{children:[Object(h.jsx)(M.b.Item.Meta,{title:e.data.place_name,description:e.data.road_address_name,onClick:function(){return function(e){v(o,e.y,e.x),K(o,e)}(e.data)},style:{cursor:"pointer"}}),"true"===e.isbookmark?Object(h.jsx)(B.b,{onClick:function(n){return r(n,e)},style:J}):Object(h.jsx)(B.a,{onClick:function(n){return r(n,e)},style:J})]})}})})]})},U=r.a.memo(W),Y=t(130),Q=t.n(Y).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK 6797801199c3b3d73ff33c7ca3edea88"}}),V=function(e){return Q.get("/v2/local/search/keyword.json?query=".concat(e))},X=t(250);var Z=function(e){var n=e.onClickRadioButton,t=e.type,r=Object(a.useState)(!1),c=Object(z.a)(r,2),o=c[0],i=c[1],s=Object(a.useState)(""),u=Object(z.a)(s,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){i("result"===t),d(t)}),[t]),Object(h.jsxs)(X.a.Group,{size:"large",value:l,onChange:n,style:{display:"flex"},id:"radioGroup",children:[Object(h.jsxs)(X.a.Button,{value:"result",style:{width:"100%",textAlign:"center"},id:"radioButtonResult",checked:o,children:[Object(h.jsx)(B.c,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\uac80\uc0c9\uacb0\uacfc"]}),Object(h.jsxs)(X.a.Button,{value:"bookmark",style:{width:"100%",textAlign:"center"},id:"radioButtonBookmark",checked:!o,children:[Object(h.jsx)(B.a,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\ubd81\ub9c8\ud06c"]})]})},$=t(244),ee=t(249),ne=function(){return Object(h.jsx)(g.c,{style:{width:"1.2rem",height:"1.2rem",animationName:"rotate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})};var te,ae,re,ce=function(e){var n=e.query,t=e.options,r=e.onChange,c=e.onSelect,o=e.onKeyDown,i=e.onReset,s=Object(a.useState)(Object(h.jsx)(g.f,{})),u=Object(z.a)(s,2),l=u[0],d=u[1],f=function(){i(),d(Object(h.jsx)(g.f,{}))};return Object(a.useMemo)((function(){d(t.length>0?Object(h.jsx)(g.b,{onClick:f}):Object(h.jsx)(g.f,{}))}),[t]),Object(h.jsx)(I.a,{size:"small",title:"REACT-KAKAO-MAP-TEST",bordered:!1,headStyle:{backgroundColor:"#40a9ff",color:"#fff"},bodyStyle:{backgroundColor:"#40a9ff",color:"#fff"},children:Object(h.jsx)($.a,{value:n,options:t,onChange:function(e){d(Object(h.jsx)(ne,{})),r(e)},onSelect:function(e,n){c(e,n),d(Object(h.jsx)(g.b,{onClick:f}))},style:{width:"100%"},children:Object(h.jsx)(ee.a,{suffix:l,size:"large",onKeyDown:o})})})},oe=t(59),ie=t(38),se=r.a.memo(s.a.div(te||(te=Object(i.a)(["\n    svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    @keyframes rotate {\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"])))),ue=function(e,n){return n.map((function(n){return{query:e,key:"".concat(n.id),value:"".concat(n.id),text:"".concat(n.place_name),data:n,isbookmark:"false",label:Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[n.place_name," ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{fontSize:"0.5rem"},children:n.road_address_name})]})})}}))},le=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)([]),t=Object(z.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)([]),i=Object(z.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)(""),f=Object(z.a)(d,2),b=f[0],j=f[1],p=Object(a.useState)(!1),m=Object(z.a)(p,2),x=m[0],O=m[1],g=Object(a.useState)("result"),k=Object(z.a)(g,2),y=k[0],w=k[1],C=Object(a.useState)([]),S=Object(z.a)(C,2),_=S[0],L=S[1];Object(a.useEffect)((function(){var e=setTimeout((function(){T(b)}),300);return function(){return clearTimeout(e)}}),[b]);var T=function(e){e?V(e).then((function(n){var t=n.data.documents,a=t.length>0;c(a?ue(e,t):[])})).catch((function(e){throw new Error("\ud0a4\uc6cc\ub4dc \uac80\uc0c9 \uc5d0\ub7ec!")})):I()},I=function(){j(""),c([])};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(oe.a,{style:{flex:"0 1 0%",height:"100%"},children:Object(h.jsxs)(ie.a,{xs:24,md:12,lg:8,xl:6,style:{flex:1,height:"100%",display:"flex",flexDirection:"column"},children:[Object(h.jsxs)(se,{children:[Object(h.jsx)(ce,{query:b,options:r,onChange:function(e){return j(e)},onKeyDown:function(e){var n,t;13===e.keyCode&&(O(!0),w("result"),(null===(n=r[0])||void 0===n?void 0:n.query)||(null===(t=r[0])||void 0===t?void 0:t.query)!==b?V(b).then((function(e){var n=e.data.documents;return l(ue(b,n))})):l(r))},onSelect:function(n,t){var a=t.text,c=t.data;j(a),O(!0),b===a?l(r):V(a).then((function(e){var n=e.data.documents;return l(ue(a,n))})),v(e,c.y,c.x),K(e,c)},onReset:I}),Object(h.jsx)(Z,{type:y,onClickRadioButton:function(e){w(e.target.value),O(!0)}})]}),x&&Object(h.jsx)(U,{type:y,data:s,bookmarks:_,onClickClose:function(){return O(!1)},onClickBookmark:function(e,n){var t=_.findIndex((function(e){return e.value===n.value}));-1===t?(n.isbookmark="true",L([].concat(Object(A.a)(_),[n]))):(n.isbookmark="false",_.splice(t,1),L(Object(A.a)(_)))}})]})})})},de=r.a.memo(le),fe=t(96),be=t.n(fe),je=t(131),pe=t(245),me=s.a.div(ae||(ae=Object(i.a)(["\n    position: absolute;\n    bottom: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),he=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=function(){var n=Object(je.a)(be.a.mark((function n(){var t,a;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k({enableHighAccuracy:!0});case 3:t=n.sent,a=t.coords,v(e,a.latitude,a.longitude),y(e,3),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),new Error("set position error!");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(me,{children:Object(h.jsx)("span",{onClick:n,children:Object(h.jsx)(pe.a,{})})})})},xe=t(246),Oe=s.a.div(re||(re=Object(i.a)(["\n    position: absolute;\n    top: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    @media screen and (max-width: 768px) {\n        top: 16rem;\n    }\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        background: #b197fc;\n\n        //&:hover {\n        //    color: #fff;\n        //}\n    }\n"]))),ge=function(){var e=Object(u.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)(!1),t=Object(z.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)("btn"),i=Object(z.a)(o,2),s=i[0],l=i[1],d=function(){!function(e,n){D(null),E=[];var t=[];new kakao.maps.services.Places(e).categorySearch(n,(function(n,a,r){if(a===kakao.maps.services.Status.OK){t=Object(A.a)(n);for(var c=0;c<t.length;c++)R(e,t[c])}}),{useMapBounds:!0,size:15,page:1})}(e,"CE7")};return Object(a.useEffect)((function(){if(e)return r?(l("selected_btn"),d(),N(e,"dragend",d),N(e,"zoom_changed",d),N(e,"center_changed",d)):l("btn"),function(){D(null),G(e,"dragend",d),G(e,"zoom_changed",d),G(e,"center_changed",d)}}),[r]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Oe,{children:Object(h.jsx)("span",{className:s,onClick:function(){c(!r)},children:Object(h.jsx)(xe.a,{})})})})};var ke=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(O,{children:[Object(h.jsx)(ge,{}),Object(h.jsx)(he,{}),Object(h.jsx)(T,{}),Object(h.jsx)(S,{})]}),Object(h.jsx)(de,{})]})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,251)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))},ye=t(63),we=Object(ye.combineReducers)({mapSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;return n.type===d?Object(l.a)(Object(l.a)({},e),{},{map:n.map}):e}}),Ce=we,Se=t(132),ze=Object(ye.createStore)(Ce,Object(Se.composeWithDevTools)());o.a.render(Object(h.jsx)(u.a,{store:ze,children:Object(h.jsx)(ke,{})}),document.getElementById("root")),ve()}},[[238,1,2]]]);
//# sourceMappingURL=main.2acf5534.chunk.js.map