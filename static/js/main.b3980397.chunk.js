(this["webpackJsonpreact-kakao-map-test"]=this["webpackJsonpreact-kakao-map-test"]||[]).push([[0],{140:function(e,n,t){},236:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(27),i=t.n(c),o=(t(139),t(140),t(30)),s=t(31),l=t(25),u=t(95),d="map/SET_MAP",b={map:null};var j,f,p,x,m=t(7),h=s.a.div(j||(j=Object(o.a)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n"]))),O=function(e){var n=e.children,t=Object(l.b)(),r=Object(a.useRef)();return Object(a.useEffect)((function(){console.log("map init!");var e={center:new kakao.maps.LatLng("37.50802","127.062835"),level:3},n=new kakao.maps.Map(r.current,e);t(function(e){return{type:d,map:e}}(n))}),[t]),Object(m.jsx)(h,{ref:r,children:n})},g=t(44),v=function(){return"geolocation"in navigator?new Promise((function(e,n){navigator.geolocation.getCurrentPosition(e,n)})):null},k=function(e,n,t){var a=new kakao.maps.LatLng(n,t);e.setCenter(a)},y=null,w=function(e,n,t){var a=new kakao.maps.LatLng(n,t);y?y.setPosition(a):(y=new kakao.maps.Marker({position:a})).setMap(e)},C=function(e,n){e.setLevel(e.getLevel()+n)},S=s.a.div(f||(f=Object(o.a)(["\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n    width: 36px;\n    height: 72px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),z=function(){var e=Object(l.c)((function(e){return{map:e.mapSetting.map}})).map;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(S,{children:[Object(m.jsx)("span",{onClick:function(){return C(e,-1)},children:Object(m.jsx)(g.e,{})}),Object(m.jsx)("span",{onClick:function(){return C(e,1)},children:Object(m.jsx)(g.d,{})})]})})},T=t(29),A=t(238),R=s.a.div(p||(p=Object(o.a)(["\n    display: flex;\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 130px;\n    height: 30px;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 65px;\n        height: 30px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        //color: #fff;\n        background: #40a9ff;\n        //background: linear-gradient(#08979c, #13c2c2);\n\n        &:hover {\n            color: #fff;\n        }\n    }\n"]))),I=function(){var e=Object(l.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)("selected_btn"),t=Object(T.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)("btn"),o=Object(T.a)(i,2),s=o[0],u=o[1],d=Object(a.useRef)(),b=Object(a.useRef)(),j=function(n){"roadmap"===n?(e.setMapTypeId(kakao.maps.MapTypeId.ROADMAP),c("selected_btn"),u("btn")):(e.setMapTypeId(kakao.maps.MapTypeId.HYBRID),c("btn"),u("selected_btn"))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(R,{children:[Object(m.jsx)("span",{className:r,onClick:function(){return j("roadmap")},ref:d,children:Object(m.jsx)(A.a,{})}),Object(m.jsx)("span",{className:s,onClick:function(){return j("skyview")},ref:b,children:Object(m.jsx)(A.b,{})})]})})},L=t(94),M=t(243),_=t(244),F=t(240),D=r.a.memo(s.a.div(x||(x=Object(o.a)(["\n    display: flex;\n    padding: 5px;\n    flex: 1;\n    flex-direction: column;\n    width: 350px;\n    height: auto;\n    border-radius: 10px;\n    background: rgba(10, 123, 192, 0.3);\n\n    position: absolute;\n    top: 160px;\n    left: 10px;\n    bottom: 10px;\n    z-index: 5;\n"])))),E=function(e){var n=e.type,t=e.data,r=e.onClickClose,c=Object(l.c)((function(e){return{map:e.mapSetting.map}})).map,i=Object(a.useState)([]),o=Object(T.a)(i,2),s=o[0],u=o[1],d=function(e,n){var t=s.findIndex((function(e){return e.value===n.value}));-1===t?(n.isbookmark="true",u([].concat(Object(L.a)(s),[n]))):(n.isbookmark="false",s.splice(t,1),u(Object(L.a)(s)))};return Object(m.jsxs)(D,{children:[Object(m.jsx)(M.a,{type:"inner",size:"small",title:"result"===n?"\uac80\uc0c9\uacb0\uacfc":"\ubd81\ub9c8\ud06c",bodyStyle:{display:"none"},extra:Object(m.jsx)(g.a,{style:{fontSize:"1.5rem"},onClick:r})}),Object(m.jsx)(M.a,{size:"small",style:{overflow:"auto"},children:Object(m.jsx)(_.b,{itemLayout:"horizontal",dataSource:"result"===n?t:s,locale:{emptyText:Object(m.jsx)("div",{children:"dddd"})},renderItem:function(e){return Object(m.jsxs)(_.b.Item,{children:[Object(m.jsx)(_.b.Item.Meta,{title:e.data.place_name,description:e.data.road_address_name,onClick:function(){return n=e.data.y,t=e.data.x,k(c,n,t),void w(c,n,t);var n,t},style:{cursor:"pointer"}}),"true"===e.isbookmark?Object(m.jsx)(F.b,{onClick:function(n){return d(0,e)},style:{width:"1.2rem",height:"1.2rem"}}):Object(m.jsx)(F.a,{onClick:function(n){return d(0,e)},style:{width:"1.2rem",height:"1.2rem"}})]})}})})]})},P=r.a.memo(E),B=t(128),K=t.n(B).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK 6797801199c3b3d73ff33c7ca3edea88"}}),q=function(e){return K.get("/v2/local/search/keyword.json?query=".concat(e))},N=t(246);var H=function(e){var n=e.onClickRadioButton;return Object(m.jsxs)(N.a.Group,{size:"large",defaultValue:"result",onChange:n,style:{display:"inline-flex"},children:[Object(m.jsxs)(N.a.Button,{value:"result",style:{width:"100%",textAlign:"center"},children:[Object(m.jsx)(F.c,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\uac80\uc0c9\uacb0\uacfc"]}),Object(m.jsxs)(N.a.Button,{value:"bookmark",style:{width:"100%",textAlign:"center"},children:[Object(m.jsx)(F.a,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\ubd81\ub9c8\ud06c"]})]})},J=t(241),G=t(245),U=function(){return Object(m.jsx)(g.c,{style:{width:"1.2rem",height:"1.2rem",animationName:"rotate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})};var V,W,Y=function(e){var n=e.query,t=e.options,r=e.onChange,c=e.onSelect,i=e.onKeyDown,o=e.onReset,s=Object(a.useState)(Object(m.jsx)(g.f,{})),l=Object(T.a)(s,2),u=l[0],d=l[1],b=function(){o(),d(Object(m.jsx)(g.f,{}))};return Object(a.useMemo)((function(){d(t.length>0?Object(m.jsx)(g.b,{onClick:b}):Object(m.jsx)(g.f,{}))}),[t]),Object(m.jsx)(M.a,{size:"small",title:"REACT-KAKAO-MAP-TEST",headStyle:{backgroundColor:"gray",color:"#fff",borderRadius:"10px 10px 0 0"},children:Object(m.jsx)(J.a,{value:n,options:t,onChange:function(e){d(Object(m.jsx)(U,{})),r(e)},onSelect:function(e,n){c(e,n),d(Object(m.jsx)(g.b,{onClick:b}))},style:{width:"100%"},children:Object(m.jsx)(G.a,{suffix:u,size:"large",onKeyDown:i})})})},Q=r.a.memo(s.a.div(V||(V=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    width: 350px;\n\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 10;\n\n    svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    @keyframes rotate {\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"])))),X=function(e,n){return n.map((function(n){return{query:e,key:"".concat(n.id),value:"".concat(n.id),text:"".concat(n.place_name),data:n,isbookmark:"false",label:Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:[n.place_name," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{fontSize:"0.5rem"},children:n.road_address_name})]})})}}))},Z=function(){var e=Object(l.c)((function(e){return{map:e.mapSetting.map}})).map,n=Object(a.useState)([]),t=Object(T.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)([]),o=Object(T.a)(i,2),s=o[0],u=o[1],d=Object(a.useState)(""),b=Object(T.a)(d,2),j=b[0],f=b[1],p=Object(a.useState)(!1),x=Object(T.a)(p,2),h=x[0],O=x[1],g=Object(a.useState)("result"),v=Object(T.a)(g,2),y=v[0],C=v[1];Object(a.useEffect)((function(){var e=setTimeout((function(){S(j)}),300);return function(){return clearTimeout(e)}}),[j]);var S=function(e){e?q(e).then((function(n){var t=n.data.documents,a=t.length>0;c(a?X(e,t):[])})).catch((function(e){throw new Error("\ud0a4\uc6cc\ub4dc \uac80\uc0c9 \uc5d0\ub7ec!")})):z()},z=function(){f(""),c([])};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Q,{children:[Object(m.jsx)(Y,{query:j,options:r,onChange:function(e){return f(e)},onKeyDown:function(e){var n,t;13===e.keyCode&&(O(!0),(null===(n=r[0])||void 0===n?void 0:n.query)||(null===(t=r[0])||void 0===t?void 0:t.query)!==j?q(j).then((function(e){var n=e.data.documents;return u(X(j,n))})):u(r))},onSelect:function(n,t){var a=t.text,c=t.data;f(a),O(!0),j===a?u(r):q(a).then((function(e){var n=e.data.documents;return u(X(a,n))})),k(e,c.y,c.x),w(e,c.y,c.x)},onReset:z}),Object(m.jsx)(H,{onClickRadioButton:function(e){C(e.target.value),O(!0)}})]}),h&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(P,{type:y,data:s,onClickClose:function(){return O(!1)}})})]})},$=r.a.memo(Z),ee=t(92),ne=t.n(ee),te=t(129),ae=t(242),re=s.a.div(W||(W=Object(o.a)(["\n    position: absolute;\n    bottom: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),ce=function(){var e=Object(l.c)((function(e){return{map:e.mapSetting.map}})).map,n=function(){var n=Object(te.a)(ne.a.mark((function n(){var t,a;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v({enableHighAccuracy:!0});case 3:t=n.sent,a=t.coords,k(e,a.latitude,a.longitude),w(e,a.latitude,a.longitude),n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),new Error("set position error!");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(re,{children:Object(m.jsx)("span",{onClick:n,children:Object(m.jsx)(ae.a,{})})})})};var ie=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(O,{children:[Object(m.jsx)(ce,{}),Object(m.jsx)(I,{}),Object(m.jsx)(z,{})]}),Object(m.jsx)($,{})]})},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,248)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))},se=t(60),le=Object(se.combineReducers)({mapSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;return n.type===d?Object(u.a)(Object(u.a)({},e),{},{map:n.map}):e}}),ue=le,de=t(130),be=Object(se.createStore)(ue,Object(de.composeWithDevTools)());i.a.render(Object(m.jsx)(l.a,{store:be,children:Object(m.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[236,1,2]]]);
//# sourceMappingURL=main.b3980397.chunk.js.map