(this["webpackJsonpreact-kakao-map-test"]=this["webpackJsonpreact-kakao-map-test"]||[]).push([[0],{140:function(n,e,t){},236:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t.n(a),o=t(30),i=t.n(o),c=(t(139),t(140),t(27)),s=t(28),u=t(24),l=t(95),d="map/SET_MAP",b={map:null};var f,p,j,m,x=t(7),h=s.a.div(f||(f=Object(c.a)(["\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n"]))),O=function(n){var e=n.children,t=Object(u.b)(),r=Object(a.useRef)();return Object(a.useEffect)((function(){console.log("map init!");var n={center:new kakao.maps.LatLng("37.50802","127.062835"),level:3},e=new kakao.maps.Map(r.current,n);t(function(n){return{type:d,map:n}}(e))}),[t]),Object(x.jsx)(h,{ref:r,children:e})},g=t(44),v=function(){return"geolocation"in navigator?new Promise((function(n,e){navigator.geolocation.getCurrentPosition(n,e)})):null},k=function(n,e,t){var a=new kakao.maps.LatLng(e,t);n.setCenter(a)},y=null,w=function(n,e,t){var a=new kakao.maps.LatLng(e,t);y?y.setPosition(a):(y=new kakao.maps.Marker({position:a})).setMap(n)},C=function(n,e){n.setLevel(n.getLevel()+e)},S=s.a.div(p||(p=Object(c.a)(["\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n    width: 36px;\n    height: 72px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),z=function(){var n=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(S,{children:[Object(x.jsx)("span",{onClick:function(){return C(n,-1)},children:Object(x.jsx)(g.e,{})}),Object(x.jsx)("span",{onClick:function(){return C(n,1)},children:Object(x.jsx)(g.d,{})})]})})},L=t(26),M=t(238),T=s.a.div(j||(j=Object(c.a)(["\n    display: flex;\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    width: 130px;\n    height: 30px;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 65px;\n        height: 30px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n    }\n\n    .btn {\n        background: #fff;\n        background: linear-gradient(#fff, #e6e6e6);\n\n        &:hover {\n            background: #f5f5f5;\n            background: linear-gradient(#f5f5f5, #e3e3e3);\n        }\n\n        &:active {\n            background: #e6e6e6;\n            background: linear-gradient(#e6e6e6, #fff);\n        }\n    }\n\n    .selected_btn {\n        //color: #fff;\n        background: #40a9ff;\n        //background: linear-gradient(#08979c, #13c2c2);\n\n        &:hover {\n            color: #fff;\n        }\n    }\n"]))),A=function(){var n=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)("selected_btn"),t=Object(L.a)(e,2),r=t[0],o=t[1],i=Object(a.useState)("btn"),c=Object(L.a)(i,2),s=c[0],l=c[1],d=Object(a.useRef)(),b=Object(a.useRef)(),f=function(e){!function(n,e){"roadmap"===e?n.setMapTypeId(kakao.maps.MapTypeId.ROADMAP):n.setMapTypeId(kakao.maps.MapTypeId.HYBRID)}(n,e),"roadmap"===e?(o("selected_btn"),l("btn")):(o("btn"),l("selected_btn"))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(T,{children:[Object(x.jsx)("span",{className:r,onClick:function(){return f("roadmap")},ref:d,children:Object(x.jsx)(M.a,{})}),Object(x.jsx)("span",{className:s,onClick:function(){return f("skyview")},ref:b,children:Object(x.jsx)(M.b,{})})]})})},I=t(94),R=t(244),_=t(245),F=t(240),E=r.a.memo(s.a.div(m||(m=Object(c.a)(["\n    display: flex;\n    padding: 5px;\n    flex: 1;\n    flex-direction: column;\n    width: 350px;\n    height: auto;\n    border-radius: 10px;\n    background: rgba(10, 123, 192, 0.3);\n\n    position: absolute;\n    top: 160px;\n    left: 10px;\n    bottom: 10px;\n    z-index: 5;\n"])))),P=function(n){var e=n.type,t=n.data,r=n.onClickClose,o=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map,i=Object(a.useState)([]),c=Object(L.a)(i,2),s=c[0],l=c[1],d=function(n,e){var t=s.findIndex((function(n){return n.value===e.value}));-1===t?(e.isbookmark="true",l([].concat(Object(I.a)(s),[e]))):(e.isbookmark="false",s.splice(t,1),l(Object(I.a)(s)))};return Object(x.jsxs)(E,{children:[Object(x.jsx)(R.a,{type:"inner",size:"small",title:"result"===e?"\uac80\uc0c9\uacb0\uacfc":"\ubd81\ub9c8\ud06c",bodyStyle:{display:"none"},extra:Object(x.jsx)(g.a,{style:{fontSize:"1.5rem"},onClick:r})}),Object(x.jsx)(R.a,{size:"small",style:{overflow:"auto"},children:Object(x.jsx)(_.b,{itemLayout:"horizontal",dataSource:"result"===e?t:s,locale:{emptyText:Object(x.jsx)("div",{children:"dddd"})},renderItem:function(n){return Object(x.jsxs)(_.b.Item,{children:[Object(x.jsx)(_.b.Item.Meta,{title:n.data.place_name,description:n.data.road_address_name,onClick:function(){return e=n.data.y,t=n.data.x,k(o,e,t),void w(o,e,t);var e,t},style:{cursor:"pointer"}}),"true"===n.isbookmark?Object(x.jsx)(F.b,{onClick:function(e){return d(0,n)},style:{width:"1.2rem",height:"1.2rem"}}):Object(x.jsx)(F.a,{onClick:function(e){return d(0,n)},style:{width:"1.2rem",height:"1.2rem"}})]})}})})]})},B=r.a.memo(P),D=t(128),K=t.n(D).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK 6797801199c3b3d73ff33c7ca3edea88"}}),q=function(n){return K.get("/v2/local/search/keyword.json?query=".concat(n))},N=t(247);var H=function(n){var e=n.onClickRadioButton;return Object(x.jsxs)(N.a.Group,{size:"large",defaultValue:"result",onChange:e,style:{display:"inline-flex"},children:[Object(x.jsxs)(N.a.Button,{value:"result",style:{width:"100%",textAlign:"center"},children:[Object(x.jsx)(F.c,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\uac80\uc0c9\uacb0\uacfc"]}),Object(x.jsxs)(N.a.Button,{value:"bookmark",style:{width:"100%",textAlign:"center"},children:[Object(x.jsx)(F.a,{style:{width:"1.2rem",height:"1.2rem",verticalAlign:"middle"}})," ","\ubd81\ub9c8\ud06c"]})]})},J=t(241),W=t(246),G=function(){return Object(x.jsx)(g.c,{style:{width:"1.2rem",height:"1.2rem",animationName:"rotate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})};var U,V,Y,Q=function(n){var e=n.query,t=n.options,r=n.onChange,o=n.onSelect,i=n.onKeyDown,c=n.onReset,s=Object(a.useState)(Object(x.jsx)(g.f,{})),u=Object(L.a)(s,2),l=u[0],d=u[1],b=function(){c(),d(Object(x.jsx)(g.f,{}))};return Object(a.useMemo)((function(){d(t.length>0?Object(x.jsx)(g.b,{onClick:b}):Object(x.jsx)(g.f,{}))}),[t]),Object(x.jsx)(R.a,{size:"small",title:"REACT-KAKAO-MAP-TEST",style:{borderRadius:"10px 10px 0 0"},headStyle:{backgroundColor:"gray",color:"#fff",borderRadius:"10px 10px 0 0"},children:Object(x.jsx)(J.a,{value:e,options:t,onChange:function(n){d(Object(x.jsx)(G,{})),r(n)},onSelect:function(n,e){o(n,e),d(Object(x.jsx)(g.b,{onClick:b}))},style:{width:"100%"},children:Object(x.jsx)(W.a,{suffix:l,size:"large",onKeyDown:i})})})},X=r.a.memo(s.a.div(U||(U=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    width: 350px;\n\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 10;\n\n    svg {\n        width: 1.5rem;\n        height: 1.5rem;\n    }\n\n    @keyframes rotate {\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"])))),Z=function(n,e){return e.map((function(e){return{query:n,key:"".concat(e.id),value:"".concat(e.id),text:"".concat(e.place_name),data:e,isbookmark:"false",label:Object(x.jsx)("div",{children:Object(x.jsxs)("span",{children:[e.place_name," ",Object(x.jsx)("br",{}),Object(x.jsx)("span",{style:{fontSize:"0.5rem"},children:e.road_address_name})]})})}}))},$=function(){var n=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)([]),t=Object(L.a)(e,2),r=t[0],o=t[1],i=Object(a.useState)([]),c=Object(L.a)(i,2),s=c[0],l=c[1],d=Object(a.useState)(""),b=Object(L.a)(d,2),f=b[0],p=b[1],j=Object(a.useState)(!1),m=Object(L.a)(j,2),h=m[0],O=m[1],g=Object(a.useState)("result"),v=Object(L.a)(g,2),y=v[0],C=v[1];Object(a.useEffect)((function(){var n=setTimeout((function(){S(f)}),300);return function(){return clearTimeout(n)}}),[f]);var S=function(n){n?q(n).then((function(e){var t=e.data.documents,a=t.length>0;o(a?Z(n,t):[])})).catch((function(n){throw new Error("\ud0a4\uc6cc\ub4dc \uac80\uc0c9 \uc5d0\ub7ec!")})):z()},z=function(){p(""),o([])};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(X,{children:[Object(x.jsx)(Q,{query:f,options:r,onChange:function(n){return p(n)},onKeyDown:function(n){var e,t;13===n.keyCode&&(O(!0),(null===(e=r[0])||void 0===e?void 0:e.query)||(null===(t=r[0])||void 0===t?void 0:t.query)!==f?q(f).then((function(n){var e=n.data.documents;return l(Z(f,e))})):l(r))},onSelect:function(e,t){var a=t.text,o=t.data;p(a),O(!0),f===a?l(r):q(a).then((function(n){var e=n.data.documents;return l(Z(a,e))})),k(n,o.y,o.x),w(n,o.y,o.x)},onReset:z}),Object(x.jsx)(H,{onClickRadioButton:function(n){C(n.target.value),O(!0)}})]}),h&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(B,{type:y,data:s,onClickClose:function(){return O(!1)}})})]})},nn=r.a.memo($),en=t(92),tn=t.n(en),an=t(129),rn=t(242),on=s.a.div(V||(V=Object(c.a)(["\n    position: absolute;\n    bottom: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),cn=function(){var n=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map,e=function(){var e=Object(an.a)(tn.a.mark((function e(){var t,a;return tn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({enableHighAccuracy:!0});case 3:t=e.sent,a=t.coords,k(n,a.latitude,a.longitude),w(n,a.latitude,a.longitude),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("set position error!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(on,{children:Object(x.jsx)("span",{onClick:e,children:Object(x.jsx)(rn.a,{})})})})},sn=t(243),un=[],ln=[],dn=function(n,e){var t=new kakao.maps.Marker({map:e,position:new kakao.maps.LatLng(n.y,n.x)});un.push(t);var a=new kakao.maps.InfoWindow({zIndex:1});a.setContent(n.place_name),ln.push(a),kakao.maps.event.addListener(t,"mouseover",bn(e,t,a)),kakao.maps.event.addListener(t,"mouseout",fn(a))},bn=function(n,e,t){return function(){t.open(n,e)}},fn=function(n){return function(){n.close()}},pn=function(n){for(var e=0;e<un.length;e++)un[e].setMap(n)},jn=s.a.div(Y||(Y=Object(c.a)(["\n    position: absolute;\n    top: 7rem;\n    right: 1rem;\n    width: 36px;\n    height: 36px;\n    overflow: hidden;\n    background-color: #f5f5f5;\n    z-index: 10;\n\n    border: 1px solid #919191;\n    border-radius: 5px;\n\n    span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 36px;\n        height: 36px;\n        cursor: pointer;\n\n        svg {\n            flex: 1;\n            font-size: 22px;\n        }\n\n        &:first-child {\n            border-bottom: 1px solid #bfbfbf;\n        }\n    }\n"]))),mn=function(){var n=Object(u.c)((function(n){return{map:n.mapSetting.map}})).map,e=Object(a.useState)(!1),t=Object(L.a)(e,2),r=t[0],o=t[1],i=function(){var e,t;e=n,t="CE7",pn(null),un=[],ln=[],new kakao.maps.services.Places(e).categorySearch(t,(function(n,t){if(t===kakao.maps.services.Status.OK){console.log(n);for(var a=0;a<n.length;a++)dn(n[a],e)}}),{useMapBounds:!0,size:15,page:1})};return Object(a.useEffect)((function(){if(n)return r&&function(n,e,t){n&&kakao.maps.event.addListener(n,e,t)}(n,"dragend",i),console.log(n),function(){console.log("\uce74\ud398 \ubc84\ud2bc \ucef4\ud3ec\ub10c\ud2b8 \uc5b8\ub9c8\uc6b4\ud2b8!"),pn(null),function(n,e,t){n&&kakao.maps.event.removeListener(n,e,t)}(n,"dragend",i)}}),[r]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(jn,{children:Object(x.jsx)("span",{onClick:function(){o(!r)},children:r?Object(x.jsx)(sn.a,{}):Object(x.jsx)(sn.b,{})})})})};var xn=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(O,{children:[Object(x.jsx)(mn,{}),Object(x.jsx)(cn,{}),Object(x.jsx)(A,{}),Object(x.jsx)(z,{})]}),Object(x.jsx)(nn,{})]})},hn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,249)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;t(n),a(n),r(n),o(n),i(n)}))},On=t(61),gn=Object(On.combineReducers)({mapSetting:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;return e.type===d?Object(l.a)(Object(l.a)({},n),{},{map:e.map}):n}}),vn=gn,kn=t(130),yn=Object(On.createStore)(vn,Object(kn.composeWithDevTools)());i.a.render(Object(x.jsx)(u.a,{store:yn,children:Object(x.jsx)(xn,{})}),document.getElementById("root")),hn()}},[[236,1,2]]]);
//# sourceMappingURL=main.cc82d54f.chunk.js.map